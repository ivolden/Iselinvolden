<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perspectives</title>
    <link rel="stylesheet" href="assets/css/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Nanum+Myeongjo:wght@400;700&display=swap" rel="stylesheet">
    <style>
        .perspective-item {
            margin-bottom: 40px; /* Add spacing between posts */
            padding: 0; /* Remove padding */
            background-color: transparent; /* Remove background color */
            border: none; /* Remove border */
            box-shadow: none; /* Remove shadow */
        }
    </style>
</head>
<body>
    <header>
        <h1>Perspectives</h1>
        <nav>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="perspectives.html#perspectives">Perspectives</a></li>
                <li><a href="about.html">About Me</a></li>
                <li><a href="contact.html">Contact Me</a></li> 
            </ul>
        </nav>
    </header>
    <main>
        <section id="perspectives">
            <h2 class="section-title">My Thoughts on Things</h2>
            <div class="perspectives-list" id="perspectives-list">
                <!-- Blog posts will be dynamically loaded here by scripts.js -->
                <!-- Latest post at the top -->
                <article class="perspective-item">
                    <h3><a href="assets/blog/post1/post3.html">Going Nowhere</a></h3>
                    <p>I'm an old man, driving far stretched roads - going nowhere. And one day a young boy stopped to ask me...</p>
                    <!-- Optionally, include a summary or the full post content here -->
                </article>
                <!-- Other posts below -->
                <!-- ...existing posts... -->
            </div>
        </section>
    </main>
    <footer>
        <p>&copy; 2025 Iselin Volden</p>
    </footer>
    <script src="assets/js/scripts.js"></script>
    <script>
        // Automatically find and load all postN.html files in assets/blog/
        const blogFolder = 'assets/blog/';
        const maxPosts = 50; // Set a reasonable upper limit
        const perspectivesList = document.getElementById('perspectives-list');
        let posts = [];

        // Try to fetch posts in descending order (latest first)
        function tryLoadPost(n) {
            fetch(`${blogFolder}post${n}.html`)
                .then(response => {
                    if (response.ok) return response.text();
                    throw new Error('Not found');
                })
                .then(html => {
                    const tempDiv = document.createElement('div');
                    tempDiv.innerHTML = html;
                    // Find the article or main content
                    let article = tempDiv.querySelector('.perspective-item');
                    if (!article) article = tempDiv.querySelector('main, body, div');
                    if (article) posts.push(article.outerHTML);
                })
                .catch(() => {})
                .finally(() => {
                    if (n > 1) {
                        tryLoadPost(n - 1);
                    } else {
                        perspectivesList.innerHTML = posts.join('');
                    }
                });
        }

        // Start from the highest possible post number
        tryLoadPost(maxPosts);
    </script>
</body>
</html>